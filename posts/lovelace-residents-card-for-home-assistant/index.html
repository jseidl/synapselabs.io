<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>Create a custom &#39;Residents&#39; card in your Home Assistant&#39;s dashboard</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description"
    content="Display information about your residents on Home Assistant">
  
  <meta name="author" content="Jan Seidl">
  <meta name="generator" content="Hugo 0.76.4" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://synapselabs.io/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://synapselabs.io/plugins/themify-icons/themify-icons.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://synapselabs.io/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://synapselabs.io/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://synapselabs.io/images/favicon.png " type="image/x-icon">

  </head><body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="fixed-top navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-light bg-transparent">
      <a class="navbar-brand"href="https://synapselabs.io/"><img class="img-fluid" src="/images/logo.png" alt="synapse labs ðŸ§ "></a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h3"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="https://synapselabs.io/"> Home </a>
          </li>
          
            
            <li class="nav-item">
              <a class="nav-link" href="https://synapselabs.io/about">About</a>
            </li>
            
          
            
            <li class="nav-item">
              <a class="nav-link" href="https://synapselabs.io/contact">Contact</a>
            </li>
            
          
        </ul>
        
        <!-- search -->
        <div class="search">
          <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
          <div class="search-wrapper">
            <form action="https://synapselabs.io//search" class="h-100">
              <input class="search-box px-4" id="search-query" name="s" type="search" placeholder="Type & Hit Enter...">
            </form>
            <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
          </div>
        </div>
        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation --> <div class="py-5 d-none d-lg-block"></div> 

<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 mx-auto block shadow mb-5">
        <h2>Create a custom &lsquo;Residents&rsquo; card in your Home Assistant&rsquo;s dashboard</h2>
        <div class="mb-3 post-meta">
          <a href="/author/jan-seidl">Jan Seidl</a>,
          May 16, 2020, in 
          <a href="/categories/home-automation">Home automation</a>
          
        </div>
        
        <div class="content">
          <p>Shortly after I released <a href="/posts/battery-level-tricks-with-home-assistant/">my latest post</a>, a friend DM&rsquo;ed me on Twitter and asked about my residents card that I showcased briefly, so it gave the perfect opportunity on making a post about it and share with the world this card that I enjoy so much. It&rsquo;s pretty easy and it&rsquo;s mostly vanilla Home Assistant/Lovelace so put your mad scientist lab coats, hop aboard and let&rsquo;s learn how to make awesome display cards.</p>
<p><img src="/images/posts/battery-level-tricks-with-home-assistant/residents-box.png" alt="Residents quick info box"></p>
<p>The idea of developing a residents card came from seeing many other Home Assistant&rsquo;s user&rsquo;s designs around the web, many included their <code>device_tracker</code> status, name and picture and I wanted to give a little more spice to it.</p>
<h3 id="uploading-your-residents-images-and-creating-the-person-entities">Uploading your resident&rsquo;s images and creating the <code>person</code> entities</h3>
<p>If you don&rsquo;t have your <code>person</code> entries yet, let&rsquo;s start with the basic. I usually have a <code>person</code> folder under <code>packages</code>. If you&rsquo;re not using <a href="https://www.home-assistant.io/docs/configuration/packages/"><code>packages</code></a> and still have all your configuration under <code>configuration.yaml</code> with over 600 lines <del>like a savage literally from before fire was discovered</del>, stop what you&rsquo;re doing right now and go convert into the <code>packages</code> model.</p>
<p>Or&hellip; well&hellip;. you can wait until I write about it too. <del>Shame is already there patting you in the back anyway.</del></p>
<p>I create one file per resident where I define the <code>customize</code> entry (resident picture), the <code>person</code> entity with only one <code>device_tracker</code> entry, because I use the <a href="https://github.com/helto4real/hassio-add-ons/tree/master/presence">Better Presence add-on</a> (we&rsquo;ll see more about presence detection and this add-on in a future post).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e"># jseidl.yaml</span>
<span style="color:#f92672">homeassistant</span>:
  <span style="color:#f92672">customize</span>:
    <span style="color:#f92672">person.jan</span>:
      <span style="color:#f92672">entity_picture</span>: <span style="color:#e6db74">&#34;/local/images/residents/jseidl.jpg&#34;</span>

<span style="color:#f92672">person</span>:
  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Jan</span>
    <span style="color:#f92672">id</span>: <span style="color:#ae81ff">jseidl</span>
    <span style="color:#f92672">user_id</span>: !<span style="color:#ae81ff">secret person_jseidl_userid</span>
    <span style="color:#f92672">device_trackers</span>:
      - <span style="color:#ae81ff">device_tracker.jseidl_presence</span>
</code></pre></div><h3 id="creating-proximity-sensors">Creating proximity sensors</h3>
<p>Upon randomly reading Home Assistant&rsquo;s components documentation, I&rsquo;ve stumbled uponn the <code>proximity</code> sensor and decided it would be a cool addition to my residents information. For that to work, you&rsquo;ll need <code>device_tracker</code> entries with GPS info, so I add our phones (OwnTracks) <code>device_tracker</code> entity exclusively since my aggregate one not always have GPS info on it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">proximity</span>:
  <span style="color:#f92672">home_jseidl</span>:
    <span style="color:#f92672">devices</span>:
      - <span style="color:#ae81ff">device_tracker.jseidl_phone</span>
    <span style="color:#f92672">tolerance</span>: <span style="color:#ae81ff">50</span>
    <span style="color:#f92672">unit_of_measurement</span>: <span style="color:#ae81ff">mi</span>
  <span style="color:#f92672">home_wife</span>:
    <span style="color:#f92672">devices</span>:
      - <span style="color:#ae81ff">device_tracker.wife_phone</span>
    <span style="color:#f92672">tolerance</span>: <span style="color:#ae81ff">50</span>
    <span style="color:#f92672">unit_of_measurement</span>: <span style="color:#ae81ff">mi</span>
  <span style="color:#f92672">home_residents</span>:
    <span style="color:#f92672">devices</span>:
      - <span style="color:#ae81ff">device_tracker.wife_phone</span>
      - <span style="color:#ae81ff">device_tracker.jseidl_phone</span>
    <span style="color:#f92672">tolerance</span>: <span style="color:#ae81ff">50</span>
    <span style="color:#f92672">unit_of_measurement</span>: <span style="color:#ae81ff">mi</span>
</code></pre></div><p>This sensor not only gives you the distance between the resident and home but also if the resident is moving towards or away from home. You can calculate the distance to zones other than home by changing the <code>zone</code> attribute of the sensor (defaults to <code>home</code>).</p>
<p>This is specially useful to check <del>if you can play one more round of your favorite video-game before your partner arrives and give you heat for being playing video-games all day</del> for many different reasons.</p>
<h3 id="creating-battery_level-sensors-if-your-battery_level-is-a-sensors-attribute">Creating <code>battery_level</code> sensors if your <code>battery_level</code> is a sensor&rsquo;s attribute</h3>
<p>Many sensors will have a <code>battery_level</code> attribute but that won&rsquo;t work with <a href="https://www.home-assistant.io/lovelace/picture-elements/"><code>Picture Elements</code></a> card that we&rsquo;ll be using to build up our residents card. Its <code>state-icon</code> entry needs an entity icon. You will need a sensor entity exclusively for this value with an <code>battery</code> icon.</p>
<p>If you don&rsquo;t have one yet you can hop back into my <a href="/posts/battery-level-tricks-with-home-assistant/">latest post</a> to find out how to make cool dynamic icon for your cell phone battery level.</p>
<h3 id="creating-the-card-definition">Creating the card definition</h3>
<p>Each resident block consists of a picture, the zone indicator (Home/Away/Work) and the distance to home in the bottom and the phone battery percentage and icon on the top left corner.</p>
<p>I use a small CSS trick to make the Zone Indicator element span across all bottom part forming a bar with a black background with <code>0.4</code> opacity for the looks. Positioning is done using percentages and <code>em</code> so all is relative and somewhat responsive.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">cards</span>:
- <span style="color:#f92672">type</span>: <span style="color:#ae81ff">picture-elements</span>
    <span style="color:#f92672">image</span>: !<span style="color:#ae81ff">file /local/images/residents/jseidl.jpg</span>
    <span style="color:#f92672">elements</span>:
      <span style="color:#75715e"># Home / Away - Zone indicator</span>
      - <span style="color:#f92672">type</span>: <span style="color:#ae81ff">state-label</span>
        <span style="color:#f92672">entity</span>: <span style="color:#ae81ff">device_tracker.jseidl_presence</span>
        <span style="color:#f92672">style</span>:
          <span style="color:#f92672">left</span>: <span style="color:#ae81ff">0</span>
          <span style="color:#f92672">bottom</span>: <span style="color:#ae81ff">0</span>
          <span style="color:#f92672">pointer-events</span>: <span style="color:#ae81ff">none</span>
          <span style="color:#f92672">line-height</span>: <span style="color:#ae81ff">1.</span><span style="color:#ae81ff">1em</span>
          <span style="color:#f92672">font-size</span>: <span style="color:#ae81ff">1.</span><span style="color:#ae81ff">1em</span>
          <span style="color:#f92672">background-color</span>: <span style="color:#ae81ff">rgba(0, 0, 0, 0.4)</span>
          <span style="color:#f92672">width</span>: <span style="color:#ae81ff">100</span><span style="color:#ae81ff">%</span>
          <span style="color:#f92672">transform</span>: <span style="color:#ae81ff">initial</span>
          <span style="color:#f92672">padding</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2px</span>
      <span style="color:#75715e"># Proximity to Home</span>
      - <span style="color:#f92672">type</span>: <span style="color:#ae81ff">state-label</span>
        <span style="color:#f92672">entity</span>: <span style="color:#ae81ff">proximity.home_jseidl</span>
        <span style="color:#f92672">style</span>:
          <span style="color:#f92672">right</span>: <span style="color:#ae81ff">0</span>
          <span style="color:#f92672">bottom</span>: <span style="color:#ae81ff">0</span>
          <span style="color:#f92672">pointer-events</span>: <span style="color:#ae81ff">none</span>
          <span style="color:#f92672">transform</span>: <span style="color:#ae81ff">initial</span>
          <span style="color:#f92672">line-height</span>: <span style="color:#ae81ff">1.</span><span style="color:#ae81ff">1em</span>
          <span style="color:#f92672">font-size</span>: <span style="color:#ae81ff">1.</span><span style="color:#ae81ff">1em</span>
          <span style="color:#f92672">padding</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2px</span>
          <span style="color:#f92672">&#34;--paper-item-icon-color&#34;: </span><span style="color:#ae81ff">white</span>
      <span style="color:#75715e"># Phone Battery (Text)</span>
      - <span style="color:#f92672">type</span>: <span style="color:#ae81ff">state-label</span>
        <span style="color:#f92672">entity</span>: <span style="color:#ae81ff">sensor.jseidl_phone_batt</span>
        <span style="color:#f92672">title</span>: <span style="color:#ae81ff">sensor.jseidl_phone_batt</span>
        <span style="color:#f92672">style</span>:
          <span style="color:#f92672">left</span>: <span style="color:#ae81ff">0</span>
          <span style="color:#f92672">top</span>: <span style="color:#ae81ff">0</span>
          <span style="color:#f92672">padding</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">8px</span>
          <span style="color:#f92672">pointer-events</span>: <span style="color:#ae81ff">none</span>
          <span style="color:#f92672">transform</span>: <span style="color:#ae81ff">initial</span>
          <span style="color:#f92672">line-height</span>: <span style="color:#ae81ff">2em</span>
          <span style="color:#f92672">font-size</span>: <span style="color:#ae81ff">1.</span><span style="color:#ae81ff">1em</span>
      <span style="color:#75715e"># Phone Battery (Icon)</span>
      - <span style="color:#f92672">type</span>: <span style="color:#ae81ff">state-icon</span>
        <span style="color:#f92672">entity</span>: <span style="color:#ae81ff">sensor.jseidl_phone_batt</span>
        <span style="color:#f92672">style</span>:
          <span style="color:#f92672">right</span>: <span style="color:#ae81ff">0</span>
          <span style="color:#f92672">top</span>: <span style="color:#ae81ff">2</span><span style="color:#ae81ff">%</span>
          <span style="color:#f92672">pointer-events</span>: <span style="color:#ae81ff">none</span>
          <span style="color:#f92672">transform</span>: <span style="color:#ae81ff">initial</span>
          <span style="color:#f92672">line-height</span>: <span style="color:#ae81ff">2em</span>
          <span style="color:#f92672">font-size</span>: <span style="color:#ae81ff">1.</span><span style="color:#ae81ff">1em</span>
          <span style="color:#f92672">&#34;--paper-item-icon-color&#34;: </span><span style="color:#ae81ff">white</span>
</code></pre></div><p>And that&rsquo;s all it takes to have a nice residents display on your Lovelace UI. Picture Elements is very powerful and I use in quite different cards that I will be showcasing in a near future. Let me know in the comments what other information do you think it would be useful to have in this card. Stay safe and keep getting creative with your homes!</p>
        </div>
      </div>
      <div class="col-lg-12 mx-auto block shadow mb-5">
        
        
        
        <h3>You might also be interested in:</h3>
        <ul>
          
          <li><a href="/posts/battery-level-tricks-with-home-assistant/">Battery level tricks with Home assistant</a></li>
          
          <li><a href="/posts/bed-sensor-with-esphome-on-homeassistant/">Making a bed occupancy sensor with bathroom scales, ESP32, HX711 load-cell sensors and ESPHome on Home Assistant</a></li>
          
          <li><a href="/posts/multisensors-with-esphome-on-homeassistant/">Building custom multisensors with an ESP8266 and ESPHome on Home Assistant</a></li>
          
          <li><a href="/posts/using-alexa-to-greet-you-with-home-assistant/">Using Alexa to greet you with Home Assistant</a></li>
          
        </ul>
        
      </div>
      
      <div class="col-lg-12 mx-auto block shadow">
        
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "synapse-labs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
      
    </div>
  </div>
</section>


<footer class="py-4 bg-light border-top">
  <div class="container">
    <div class="row justify-content-between align-items-center">
      <div class="col-lg-4 text-center text-lg-left mb-4 mb-lg-0">
        <a href="https://synapselabs.io/" class="d-block pb-3"><img src="/images/logo.png" class="img-fluid" alt="synapse labs ðŸ§ "></a>
      </div>
      <div class="col-lg-4 text-center mb-4 mb-lg-0">
        <ul class="list-inline mb-0">
          
          <li class="list-inline-item"><a class="text-dark d-block p-2" href="https://synapselabs.io/about">About</a></li>
          
          <li class="list-inline-item"><a class="text-dark d-block p-2" href="https://synapselabs.io/contact">Contact</a></li>
          
        </ul>
      </div>
      <div class="col-lg-4 text-lg-right text-center mb-4 mb-lg-0">
        <ul class="list-inline social-icon mb-0">
          
          <li class="list-inline-item"><a href="https://twitter.com/jseidl"><i class="ti-twitter-alt"></i></a></li>
          
          <li class="list-inline-item"><a href="https://github.com/jseidl"><i class="ti-github"></i></a></li>
          
          <li class="list-inline-item"><a href="https://www.linkedin.com/in/janseidl"><i class="ti-linkedin"></i></a></li>
          
        </ul>
      </div>
    </div>
    <div class="text-center mt-4">
      <span>Â© 2020 <a href="https://synapselabs.io">synapse labs</a> All Rights Reserved</span>
    </div>
  </div>
</footer>




<script>
  var indexURL = "https://synapselabs.io/index.json"
</script>


<!-- JS Plugins -->

<script src="https://synapselabs.io/plugins/jQuery/jquery.min.js"></script>

<script src="https://synapselabs.io/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://synapselabs.io/plugins/search/fuse.min.js"></script>

<script src="https://synapselabs.io/plugins/search/mark.js"></script>

<script src="https://synapselabs.io/plugins/search/search.js"></script>


<!-- Main Script -->

<script src="https://synapselabs.io/js/script.min.js"></script>


<!-- google analitycs -->
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-163621923-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>